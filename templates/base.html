{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AcheiProGato | Tudo para seu pet</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <style>
        body { font-family: 'Inter', sans-serif; }
        .bg-primary-teal { background-color: #00a8a8; }
        .text-primary-teal { color: #00a8a8; }
        .bg-amazon-orange { background-color: #FF9900; }
        #mobile-menu.hidden { display: none; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">

    <div class="bg-primary-teal text-white text-[10px] py-2 text-center font-black tracking-widest uppercase">
        FRETE GR√ÅTIS PARA TODO O BRASIL üöö
    </div>

    <nav class="bg-white border-b border-slate-100 sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between gap-4">
                <button id="menu-btn" class="lg:hidden text-2xl text-slate-600 focus:outline-none order-1">
                    <i class="bi bi-list"></i>
                </button>

                <a href="{% url 'home' %}" class="flex items-center gap-2 order-2 lg:order-1">
                    <div class="w-8 h-8 md:w-10 md:h-10 bg-primary-teal rounded-lg flex items-center justify-center overflow-hidden">
                        <img src="{% static 'img/logo.png' %}" alt="Logo AcheiProGato" class="w-full h-full object-contain">
                    </div>
                    <span class="font-black text-lg md:text-xl tracking-tighter">AcheiProGato</span>
                </a>

                <form action="{% url 'lista_produtos' %}" method="GET" class="hidden lg:flex flex-1 max-w-md mx-8 relative order-2">
                    <input type="text" name="q" placeholder="O que seu gato precisa hoje?"
                           class="w-full bg-slate-100 border-none rounded-full py-2 px-6 text-sm focus:ring-2 focus:ring-teal-500">
                    <button type="submit" class="absolute right-3 top-2 text-slate-400">
                        <i class="bi bi-search"></i>
                    </button>
                </form>

                <div class="flex items-center gap-4 md:gap-6 text-slate-400 font-bold text-[10px] uppercase tracking-widest order-3">

                        <a href="{% url 'rastreio_pedido' %}" class="flex flex-col items-center hover:text-primary-teal transition text-slate-500">
                            <i class="bi bi-truck text-xl md:text-2xl"></i>
                            <span class="hidden md:inline">Rastrear</span>
                        </a>

                        {% if user.is_authenticated %}
                            <a href="{% url 'logout' %}" class="flex flex-col items-center hover:text-primary-teal transition text-primary-teal group">
                                <i class="bi bi-person-check-fill text-xl md:text-2xl"></i>
                                <span class="hidden md:inline">Ol√°, {{ user.username }}</span>
                                <span class="text-[8px] opacity-60 group-hover:opacity-100">(Sair)</span>
                            </a>
                        {% else %}
                            <a href="{% url 'login' %}" class="flex flex-col items-center hover:text-primary-teal transition">
                                <i class="bi bi-person text-xl md:text-2xl"></i>
                                <span class="hidden md:inline">Minha Conta</span>
                            </a>
                        {% endif %}

                        <a href="#" id="open-cart-btn" class="flex flex-col items-center hover:text-primary-teal transition relative">
                            <i class="bi bi-cart3 text-xl md:text-2xl"></i>
                            <span class="hidden md:inline">Meu Carrinho</span>
                            <span id="cart-count-badge" class="{% if not request.session.carrinho %}hidden{% endif %} absolute -top-1 -right-1 bg-amazon-orange text-white text-[9px] font-black w-5 h-5 rounded-full flex items-center justify-center shadow-lg border-2 border-white animate-bounce-short">
                                {{ request.session.carrinho|length }}
                            </span>
                        </a>
                    </div>
                </div>

            <div class="lg:hidden mt-4 pb-2">
                <form action="{% url 'lista_produtos' %}" method="GET" class="relative">
                    <input type="text" name="q" placeholder="Buscar na AcheiProGato..."
                           class="w-full bg-slate-100 border-none rounded-xl py-3 px-5 text-sm focus:ring-2 focus:ring-teal-500">
                    <button type="submit" class="absolute right-4 top-3 text-slate-400">
                        <i class="bi bi-search"></i>
                    </button>
                </form>
            </div>

            <div class="hidden lg:flex mt-4 gap-8 text-[11px] font-black uppercase tracking-widest text-slate-500 border-t border-slate-50 pt-3">
                <a href="{% url 'lista_produtos' %}?categoria=brinquedos" class="hover:text-primary-teal transition">Brinquedos</a>
                <a href="{% url 'lista_produtos' %}?categoria=alimentacao" class="hover:text-primary-teal transition">Alimenta√ß√£o</a>
                <a href="{% url 'lista_produtos' %}?categoria=conforto" class="hover:text-primary-teal transition">Caminhas & Conforto</a>
                <a href="{% url 'lista_produtos' %}?categoria=higiene" class="hover:text-primary-teal transition">Higiene</a>
                <a href="{% url 'lista_produtos' %}?ordem=promocoes" class="text-amazon-orange flex items-center gap-1">
                    <i class="bi bi-fire"></i> Ofertas do Dia
                </a>
            </div>
        </div>

        <div id="mobile-menu" class="hidden lg:hidden bg-white border-t border-slate-100 px-4 py-6 space-y-4 shadow-xl">
            <div class="flex flex-col space-y-4 font-black text-xs uppercase tracking-widest text-slate-600">
                <a href="{% url 'lista_produtos' %}?categoria=brinquedos" class="p-2 hover:bg-slate-50 rounded-lg">Brinquedos</a>
                <a href="{% url 'lista_produtos' %}?categoria=alimentacao" class="p-2 hover:bg-slate-50 rounded-lg">Alimenta√ß√£o</a>
                <a href="{% url 'lista_produtos' %}?categoria=conforto" class="p-2 hover:bg-slate-50 rounded-lg">Caminhas & Conforto</a>
                <a href="{% url 'lista_produtos' %}?categoria=higiene" class="p-2 hover:bg-slate-50 rounded-lg">Higiene</a>
                <hr>
                <a href="{% url 'lista_produtos' %}?ordem=promocoes" class="text-amazon-orange font-black p-2 italic underline text-sm">
                    <i class="bi bi-fire"></i> Ofertas do Dia
                </a>
            </div>
        </div>
    </nav>

    <main class="container mx-auto">
        {% block content %}{% endblock %}
    </main>

    <footer class="bg-[#030213] text-white pt-20 pb-10 mt-10">
        <div class="container mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-12 border-b border-white/10 pb-12">
            <div class="space-y-6">
                <div class="flex items-center gap-2">
                    <div class="w-8 h-8 bg-primary-teal rounded flex items-center justify-center overflow-hidden">
                        <img src="{% static 'img/logo.png' %}" alt="Logo" class="w-full h-full object-contain p-1">
                    </div>
                    <span class="font-black text-lg tracking-tighter">AcheiProGato</span>
                </div>
                <p class="text-slate-400 text-sm leading-relaxed max-w-xs">
                    O para√≠so online para o seu felino. Qualidade e curadoria especial para trazer o que h√° de melhor direto para sua casa.
                </p>
                <div class="flex gap-4">
                    <a href="https://www.instagram.com/acheiprogato" target="_blank" class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center hover:bg-primary-teal transition">
                        <i class="bi bi-instagram text-lg text-slate-400 hover:text-white"></i></a>
                    <a href="https://wa.me/5547991103924" target="_blank" class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center hover:bg-green-500 transition">
                        <i class="bi bi-whatsapp text-lg text-slate-400 hover:text-white"></i></a>
                </div>
            </div>
            <div>
                <h4 class="font-black text-xs uppercase tracking-[0.2em] mb-8 text-white/50">Categorias</h4>
                <ul class="text-slate-400 text-sm space-y-4 font-medium">
                    <li><a href="{% url 'lista_produtos' %}?categoria=brinquedos" class="hover:text-primary-teal transition">Brinquedos</a></li>
                    <li><a href="{% url 'lista_produtos' %}?categoria=alimentacao" class="hover:text-primary-teal transition">Alimenta√ß√£o</a></li>
                    <li><a href="{% url 'lista_produtos' %}?categoria=conforto" class="hover:text-primary-teal transition">Caminhas & Conforto</a></li>
                    <li><a href="{% url 'lista_produtos' %}?categoria=higiene" class="hover:text-primary-teal transition">Higiene</a></li>
                </ul>
            </div>
            <div>
    <h4 class="font-black text-xs uppercase tracking-[0.2em] mb-8 text-white/50">Ajuda & Suporte</h4>
    <ul class="text-slate-400 text-sm space-y-4 font-medium">
        <li><a href="{% url 'rastreio_pedido' %}" class="hover:text-primary-teal transition">Rastrear Pedido</a></li>
        <li><a href="{% url 'politica_devolucao' %}" class="hover:text-primary-teal transition">Pol√≠ticas de Devolu√ß√£o</a></li>
        <li><a href="{% url 'politica_entrega' %}" class="hover:text-primary-teal transition">Pol√≠ticas de Entrega</a></li>
        <li><a href="{% url 'politica_privacidade' %}" class="hover:text-primary-teal transition">Pol√≠ticas de Privacidade</a></li>
    </ul>
</div>
            <div>
                <h4 class="font-black text-xs uppercase tracking-[0.2em] mb-8 text-white/50">Contato</h4>
                <div class="space-y-4">
                    <div class="flex items-center gap-3 text-slate-400 text-sm">
                        <i class="bi bi-envelope text-primary-teal"></i>
                        <span>contato@acheiprogato.com</span>
                    </div>
                    <div class="flex items-center gap-3 text-slate-400 text-sm">
                        <i class="bi bi-telephone text-primary-teal"></i>
                        <span class="font-bold">(47) 9 9110-3924</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="container mx-auto px-4 mt-12 flex flex-col md:flex-row items-center justify-between gap-6">
            <p class="text-[10px] text-slate-600 uppercase tracking-widest font-black text-center md:text-left leading-relaxed">
                ¬© 2026 AcheiProGato <br class="md:hidden"> Feito com ‚ù§Ô∏è para todos os gatinhos.
            </p>
            <div class="flex items-center gap-4 grayscale opacity-30 invert">
                <i class="bi bi-credit-card-2-front text-2xl"></i>
                <i class="bi bi-qr-code text-2xl"></i>
                <span class="font-black italic text-xl">VISA</span>
            </div>
        </div>
    </footer>

    <div id="cart-overlay" class="fixed inset-0 bg-black/50 z-[60] hidden transition-opacity"></div>

    <div id="cart-drawer" class="fixed top-0 right-0 h-full w-full max-w-md bg-white z-[70] shadow-2xl transform translate-x-full transition-transform duration-300 ease-in-out flex flex-col">
        <div class="p-6 border-b border-slate-100 flex items-center justify-between">
            <h2 class="text-xl font-[900] text-slate-900 tracking-tight">Meu Carrinho</h2>
            <button id="close-cart" class="text-2xl text-slate-400 hover:text-slate-900">
                <i class="bi bi-x-lg"></i>
            </button>
        </div>

        <div id="cart-items-list" class="flex-1 overflow-y-auto p-6 space-y-4">
            {% if carrinho_lateral %}
                {% for item in carrinho_lateral %}
                    <div class="flex items-center gap-4 bg-slate-50 p-4 rounded-2xl border border-slate-100 mb-2" data-product-id="{{ item.id }}">
                        <img src="{{ item.imagem }}" class="w-14 h-14 object-contain rounded-xl bg-white p-1">
                        <div class="flex-1 text-left">
                            <h4 class="text-[11px] font-[900] text-slate-800 line-clamp-1 uppercase tracking-tighter">{{ item.nome }}</h4>
                            <div class="flex items-center gap-3 mt-2">
                                <button onclick="changeQty('{{ item.id }}', 'diminuir')" class="w-8 h-8 bg-white border border-slate-200 rounded-lg flex items-center justify-center text-slate-600 hover:bg-slate-100 active:scale-90 transition-all font-bold">-</button>
                                <span class="text-[11px] font-black text-slate-900 item-qtd">QTD: {{ item.quantidade }}</span>
                                <button onclick="changeQty('{{ item.id }}', 'aumentar')" class="w-8 h-8 bg-white border border-slate-200 rounded-lg flex items-center justify-center text-slate-600 hover:bg-slate-100 active:scale-90 transition-all font-bold">+</button>
                            </div>
                        </div>
                        <div class="text-right flex flex-col items-end justify-between h-14">
                            <button onclick="removeFromCart('{{ item.id }}')" class="text-slate-300 hover:text-red-500 transition-colors p-1">
                                <i class="bi bi-trash3 text-lg"></i>
                            </button>
                            <p class="text-sm font-[900] text-primary-teal tracking-tighter">R$ {{ item.preco|floatformat:2 }}</p>
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <div class="flex flex-col items-center justify-center h-full text-center space-y-4 empty-msg">
                    <i class="bi bi-cart-x text-5xl text-slate-200"></i>
                    <p class="text-slate-400 font-medium italic text-sm">Seu carrinho est√° vazio üòø</p>
                </div>
            {% endif %}
        </div>

        <div class="p-6 border-t border-slate-100 bg-slate-50">
            <div class="flex justify-between items-baseline mb-6">
                <span class="text-[10px] font-black uppercase text-slate-400 tracking-widest">Total Estimado</span>
                <span id="cart-total-price" class="text-2xl font-[900] text-primary-teal tracking-tighter">
                    R$ {{ total_carrinho_lateral|floatformat:2|default:"0,00" }}
                </span>
                <div class="flex items-center gap-2 mt-1">
    <i class="bi bi-truck text-emerald-500"></i>
    <span class="text-[10px] font-black text-emerald-500 uppercase tracking-widest">
        Voc√™ ganhou Frete Gr√°tis!
    </span>
</div>
            </div>
            <a href="{% url 'carrinho' %}" class="w-full bg-slate-900 text-white py-4 rounded-2xl font-black uppercase text-xs block text-center hover:bg-primary-teal transition-all mb-3">
                Ver Carrinho Completo
            </a>
            <a href="{% url 'checkout' %}" class="w-full bg-amazon-orange text-white py-4 rounded-2xl font-black uppercase text-xs shadow-xl shadow-orange-500/20 block text-center">
                Finalizar Compra
            </a>
        </div>
    </div>

<script>
    // 1. DADOS INICIAIS
    const carrinhoInicial = {
        {% for id, qtd in request.session.carrinho.items %}
            "{{ id }}": {{ qtd }},
        {% endfor %}
    };

    // 2. ELEMENTOS DO DRAWER
    const cartDrawer = document.getElementById('cart-drawer');
    const cartOverlay = document.getElementById('cart-overlay');
    const closeCart = document.getElementById('close-cart');
    const cartBtn = document.getElementById('open-cart-btn');

    function openDrawer(e) {
        if(e) e.preventDefault();
        cartDrawer.classList.remove('translate-x-full');
        cartOverlay.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
    }

    function closeDrawer() {
        cartDrawer.classList.add('translate-x-full');
        cartOverlay.classList.add('hidden');
        document.body.style.overflow = '';
    }

    if (cartBtn) cartBtn.addEventListener('click', openDrawer);
    if (closeCart) closeCart.addEventListener('click', closeDrawer);
    if (cartOverlay) cartOverlay.addEventListener('click', closeDrawer);

    // 3. ATUALIZA√á√ÉO DA UI
function updateCartUI(data, itemKey) {
    // 1. Atualiza o Badge (bolinha laranja no √≠cone do carrinho)
    const badge = document.getElementById('cart-count-badge');
    if (badge) {
        const total = data.total_itens !== undefined ? data.total_itens : Object.keys(carrinhoInicial).length;
        badge.innerText = total;
        total > 0 ? badge.classList.remove('hidden') : badge.classList.add('hidden');
    }

    // 2. Atualiza o Total Estimado no rodap√© do drawer
    const totalText = document.getElementById('cart-total-price');
    if (totalText && data.total_carrinho !== undefined) {
        totalText.innerText = `R$ ${parseFloat(data.total_carrinho).toFixed(2).replace('.', ',')}`;
    }

    // 3. ATUALIZA√á√ÉO INDIVIDUAL DA QUANTIDADE (Faz o n√∫mero mudar na hora)
    // Buscamos o container pelo ID completo (ex: '11-2')
    const itemContainer = document.querySelector(`[data-product-id="${itemKey}"]`);
    if (itemContainer) {
        const qtdSpan = itemContainer.querySelector('.item-qtd');
        if (qtdSpan) {
            // Verifica se o servidor mandou 'nova_qtd' (de alterar) ou 'quantidade' (de adicionar)
            const q = data.nova_qtd !== undefined ? data.nova_qtd : data.quantidade;
            if (q !== undefined) {
                qtdSpan.innerText = `QTD: ${q}`;
            }
        }
    }

    // 4. Reconstr√≥i a lista inteira (Essencial para atualizar as FOTOS das variantes)
    const listContainer = document.getElementById('cart-items-list');
    if (listContainer && data.itens_completos) {
        listContainer.innerHTML = ''; // Limpa para desenhar as fotos e nomes corretos

        data.itens_completos.forEach(item => {
            const itemHTML = `
                <div class="flex items-center gap-4 bg-slate-50 p-4 rounded-2xl border border-slate-100 mb-2" data-product-id="${item.id}">
                    <img src="${item.imagem}" class="w-14 h-14 object-contain rounded-xl bg-white p-1">

                    <div class="flex-1 text-left">
                        <h4 class="text-[11px] font-[900] text-slate-800 line-clamp-1 uppercase tracking-tighter">${item.nome}</h4>
                        <div class="flex items-center gap-3 mt-2">
                            <button onclick="changeQty('${item.id}', 'diminuir')" class="w-8 h-8 bg-white border border-slate-200 rounded-lg flex items-center justify-center text-slate-600 font-bold">-</button>
                            <span class="text-[11px] font-black text-slate-900 item-qtd">QTD: ${item.quantidade}</span>
                            <button onclick="changeQty('${item.id}', 'aumentar')" class="w-8 h-8 bg-white border border-slate-200 rounded-lg flex items-center justify-center text-slate-600 font-bold">+</button>
                        </div>
                    </div>
                    <div class="text-right flex flex-col items-end justify-between h-14">
                        <button onclick="removeFromCart('${item.id}')" class="text-slate-300 hover:text-red-500 transition-colors p-1">
                            <i class="bi bi-trash3 text-lg"></i>
                        </button>
                        <p class="text-sm font-[900] text-primary-teal tracking-tighter">R$ ${parseFloat(item.preco).toFixed(2).replace('.', ',')}</p>
                    </div>
                </div>`;
            listContainer.insertAdjacentHTML('beforeend', itemHTML);
        });
    }
}

         // 4. FUN√á√ïES AJAX
function addToCart(itemKey, event) {
    if (event) event.preventDefault();

    const variacaoSelecionada = document.querySelector('input[name="variacao"]:checked');
    let url = `/carrinho/add/${itemKey}/`;

    if (variacaoSelecionada) {
        url += `?variacao_id=${variacaoSelecionada.value}`;
    }

    fetch(url, { headers: { 'X-Requested-With': 'XMLHttpRequest' } })
        .then(res => res.json())
        .then(data => {
            // Define a chave final para atualizar a interface (ex: '11-2')
            const finalKey = (variacaoSelecionada && variacaoSelecionada.value) ? `${itemKey}-${variacaoSelecionada.value}` : itemKey.toString();
            updateCartUI(data, finalKey);
            openDrawer();
        });
}

function changeQty(itemKey, acao) {
    // Aqui deve ser itemKey para o link ser /carrinho/alterar/11-2/...
    fetch(`/carrinho/alterar/${itemKey}/${acao}/`, { headers: { 'X-Requested-With': 'XMLHttpRequest' } })
        .then(res => res.json())
        .then(data => {
            if (data.status === 'sucesso') updateCartUI(data, itemKey);
        });
}

function removeFromCart(itemKey) {
    // Agora usa itemKey no fetch para suportar variantes (ex: '11-2')
    fetch(`/carrinho/remover/${itemKey}/`, { headers: { 'X-Requested-With': 'XMLHttpRequest' } })
        .then(res => res.json())
        .then(data => {
            if (data.status === 'sucesso') {
                // Selecionamos o elemento garantindo que o ID de texto seja lido corretamente
                const element = document.querySelector(`[data-product-id="${itemKey}"]`);

                if (element) {
                    // Efeito visual de sa√≠da
                    element.style.opacity = '0';
                    element.style.transform = 'translateX(20px)';
                    element.style.transition = 'all 0.3s ease';

                    setTimeout(() => {
                        element.remove();

                        // Atualiza os totais e badges chamando a sua fun√ß√£o unificada
                        updateCartUI(data, itemKey);

                        // Verifica se o carrinho ficou vazio para mostrar a mensagem
                        if (data.total_itens === 0) {
                            const list = document.getElementById('cart-items-list');
                            if (list) {
                                list.innerHTML = '<div class="flex flex-col items-center justify-center h-full text-center space-y-4 empty-msg"><i class="bi bi-cart-x text-5xl text-slate-200"></i><p class="text-slate-400 font-medium italic text-sm">Seu carrinho est√° vazio üòø</p></div>';
                            }
                        }
                    }, 300);
                }
            }
        });
}

    function syncBadge() {
        const badge = document.getElementById('cart-count-badge');
        if (badge) {
            const count = parseInt(badge.innerText.trim());
            if (isNaN(count) || count <= 0) badge.classList.add('hidden');
            else badge.classList.remove('hidden');
        }
    }

    document.addEventListener('DOMContentLoaded', syncBadge);
</script>

<script>
    document.getElementById('menu-btn').addEventListener('click', function() {
        const menu = document.getElementById('mobile-menu');
        menu.classList.toggle('hidden');
    });
</script>

<div id="cookie-banner" class="fixed bottom-6 left-6 right-6 md:left-auto md:max-w-md bg-white rounded-[2rem] shadow-2xl border border-slate-100 p-6 z-[100] transform translate-y-20 opacity-0 transition-all duration-500 pointer-events-none">
    <div class="flex items-start gap-4">
        <div class="w-12 h-12 bg-primary-teal/10 text-primary-teal rounded-2xl flex items-center justify-center text-xl shrink-0">
            <i class="bi bi-cookie"></i>
        </div>
        <div class="space-y-3">
            <h4 class="font-[900] text-slate-900 text-sm uppercase tracking-tight">Privacidade e Cookies üêæ</h4>
            <p class="text-[11px] text-slate-500 leading-relaxed font-medium">
                Usamos cookies para personalizar an√∫ncios e melhorar sua experi√™ncia na AcheiProGato. Ao continuar navegando, voc√™ concorda com nossa
                <a href="{% url 'politica_privacidade' %}" class="text-primary-teal underline font-bold">Pol√≠tica de Privacidade</a>.
            </p>
            <div class="flex gap-3 pt-2">
                <button id="accept-cookies" class="flex-1 bg-slate-900 text-white py-3 rounded-xl font-black uppercase text-[10px] hover:bg-primary-teal transition-all">
                    Aceitar
                </button>
                <button id="close-banner" class="px-4 py-3 text-slate-400 font-bold uppercase text-[10px] hover:text-slate-900 transition-colors">
                    Fechar
                </button>
            </div>
        </div>
    </div>
</div>

    <a href="https://wa.me/5547991103924?text=Ol√°! Tenho uma d√∫vida sobre meu pedido na AcheiProGato üêæ"
   target="_blank"
   class="fixed bottom-6 right-6 z-50 bg-[#25D366] text-white p-4 rounded-full shadow-2xl hover:scale-110 transition-all flex items-center justify-center group">

    <span class="max-w-0 overflow-hidden group-hover:max-w-xs group-hover:ml-2 transition-all duration-500 ease-in-out font-bold whitespace-nowrap">
        D√∫vidas? Chame aqui!
    </span>

    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" viewBox="0 0 16 16">
        <path d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.17-.478 1.338-.94.166-.46.166-.853.116-.94-.05-.089-.18-.141-.38-.24z"/>
    </svg>
</a>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const banner = document.getElementById('cookie-banner');
        const acceptBtn = document.getElementById('accept-cookies');
        const closeBtn = document.getElementById('close-banner');

        // Verifica se o usu√°rio j√° aceitou os cookies anteriormente
        if (!localStorage.getItem('cookies-accepted')) {
            setTimeout(() => {
                banner.classList.remove('translate-y-20', 'opacity-0', 'pointer-events-none');
            }, 2000); // Aparece ap√≥s 2 segundos
        }

        function hideBanner() {
            banner.classList.add('translate-y-20', 'opacity-0', 'pointer-events-none');
        }

        acceptBtn.addEventListener('click', function() {
            localStorage.setItem('cookies-accepted', 'true');
            hideBanner();
        });

        closeBtn.addEventListener('click', hideBanner);
    });
</script>

</body>
</html>